@{
    ViewData["Title"] = "Signing in...";
}

<h2>@ViewData["Title"]</h2>

@using Microsoft.AspNetCore.Http.Authentication
@model IEnumerable<AuthenticationDescription>

<div style="display:none">
    <h1>Authentication</h1>
    <p class="lead text-left">Sign in using one of these external providers:</p>
    
    @foreach (var description in Model) {
        <form id="login-form" action="/signin" method="post">
            <input type="hidden" name="Provider" value="@description.AuthenticationScheme" />
            <input type="hidden" name="ReturnUrl" value="@ViewBag.ReturnUrl" />

            <button class="btn btn-lg btn-success" type="submit">Connect using @description.DisplayName</button>
        </form>
    }
</div>


<script type="text/javascript">
window.onload = function() {
   document.forms["login-form"].submit();
}
</script>
